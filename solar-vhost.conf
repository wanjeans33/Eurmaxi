<IfDefine !IS_SAMPLE_LOADED>
  Define IS_SAMPLE_LOADED
  WSGIDaemonProcess solar python-home=/opt/bitnami/python \
    python-path=/opt/bitnami/projects/solar/Eurmaxi

</IfDefine>

# 用 *:80，避免只绑定 127.0.0.1 导致外网访问异常
<VirtualHost *:80>
  ServerName 3.75.185.85
  ServerAlias *

  WSGIProcessGroup solar
  WSGIApplicationGroup %{GLOBAL}  
  
  WSGIScriptAlias / /opt/bitnami/projects/solar/Eurmaxi/solar_project/wsgi.py

  # ---- 显式对项目根授予可读 ----
  <Directory /opt/bitnami/projects/solar/Eurmaxi>
    Require all granted
  </Directory>

  # ---- 静态 & 媒体 ----
  Alias /robots.txt  /opt/bitnami/projects/solar/Eurmaxi/static/robots.txt
  Alias /favicon.ico /opt/bitnami/projects/solar/Eurmaxi/static/favicon.ico

  Alias /static/ /opt/bitnami/projects/solar/Eurmaxi/static/
  <Directory /opt/bitnami/projects/solar/Eurmaxi/static>
    Require all granted
  </Directory>

  Alias /media/ /opt/bitnami/projects/solar/Eurmaxi/media/
  <Directory /opt/bitnami/projects/solar/Eurmaxi/media>
    Require all granted
  </Directory>

  # ---- Django 入口 ----
  WSGIScriptAlias / /opt/bitnami/projects/solar/Eurmaxi/solar_project/wsgi.py
  <Directory /opt/bitnami/projects/solar/Eurmaxi/solar_project>
    <Files wsgi.py>
      Require all granted
    </Files>
  </Directory>

  ErrorLog  "/opt/bitnami/apache/logs/solar-error.log"
  CustomLog "/opt/bitnami/apache/logs/solar-access.log" common
</VirtualHost>
